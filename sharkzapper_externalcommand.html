<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"> 
<!--
/*
 * sharkZapper is Copyright (C) 2010 Adam Malcontenti-Wilson <adman.com@gmail.com>
 * You are hereby granted a licence to use the software as-is, and view the source code for educational purposes.
 * You may not create deriviate versions of the software without written permission of the author.
 * 
 * Grooveshark imagery and related media is Copyright (C) Escape Media Group. 
 * "Grooveshark" and Grooveshark Logos are trademarks of Escape Media Group.
 */
-->
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"> 
<head>
	<title>SharkZapper External Command Page</title>
	<script type="text/javascript">
	    var debug = false;
	    
	    function sendMessage(request) {
		    request.source = "external";
		    if (debug) console.log("sharkzapper:",">>>",request.command,request);
		    chrome.extension.sendRequest(request);
	    }
	    
	    switch (location.hash) {
	        case '#togglePlayPause':
	            sendMessage({"command":"togglePlayPause"});
	            break;
	        case '#prevSong':
	            sendMessage({"command":"prevSong"});
	            break;
	        case '#nextSong':
	            sendMessage({"command":"nextSong"});
	            break;
	        default: 
	            console.error('action',location.hash,'not recognised');
	    }
        if (!debug) window.close();
    </script>
</head>
<body>
</body>
</html>
